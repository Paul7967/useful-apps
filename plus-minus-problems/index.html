<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Pavel Ostatochnikov">
    <meta name="version" id="version-meta" content="">
    <meta name="generator" id="generator-meta" content="">
    <title id="page-title">–ó–∞–≥—Ä—É–∑–∫–∞...</title>
    <link rel="stylesheet" href="css/config.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/screens.css">
    <link rel="stylesheet" href="css/animations.css">
</head>
<body>
    <!-- Header —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π -->
    <header class="app-header">
        <div class="header-content">
            <div class="header-left">
                <div class="app-title">
                    <span class="app-icon">üßÆ</span>
                    <span class="app-name">–°–ª–æ–∂–µ–Ω–∏–µ –∏<br>–≤—ã—á–∏—Ç–∞–Ω–∏–µ</span>
                </div>
                <nav class="main-nav">
                    <button id="newGame" class="nav-btn new-game-btn" title="–ò–≥—Ä–∞ –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤">
                        <span class="nav-icon">üéØ</span>
                        <span class="nav-text">–ü—Ä–∏–º–µ—Ä—ã</span>
                    </button>
                    <button id="compositionGame" class="nav-btn composition-btn" title="–ò–≥—Ä–∞ –°–æ—Å—Ç–∞–≤ —á–∏—Å–ª–∞">
                        <span class="nav-icon">üî¢</span>
                        <span class="nav-text">–°–æ—Å—Ç–∞–≤ —á–∏—Å–ª–∞</span>
                    </button>
                    <button id="nav-settings" class="nav-btn active" data-screen="settings">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        <span class="nav-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                    </button>
                    <button id="nav-stats" class="nav-btn" data-screen="stats">
                        <span class="nav-icon">üìà</span>
                        <span class="nav-text">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                    </button>
                </nav>
            </div>
            <div class="header-right">
                <div class="user-info">
                    <span class="user-icon">üë§</span>
                    <span id="playerName" class="user-name">–ò–≥—Ä–æ–∫</span>
                </div>
            </div>
        </div>
    </header>
    
    <div class="container">
        <!-- –≠–ö–†–ê–ù –ù–ê–°–¢–†–û–ï–ö -->
        <div id="settings-screen" class="screen active">
            <div class="screen-content">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                <div class="settings-grid">
                    <div class="setting-group">
                        <label for="playerNameSelect">–í—ã–±—Ä–∞—Ç—å –∏–≥—Ä–æ–∫–∞:</label>
                        <select id="playerNameSelect" name="playerName" title="–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä–æ–∫–∞">
                            <!-- –û–ø—Ü–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </select>
                        <input type="text" id="playerNameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏–≥—Ä–æ–∫–∞" maxlength="20" autocomplete="off" style="display: none;">
                    </div>
                    <div class="setting-group">
                        <label>–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞:</label>
                        <button id="addPlayerBtn" class="btn btn-secondary btn-small" type="button">
                            <span class="btn-icon">üë§</span>
                            –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞
                        </button>
                    </div>
                    <div class="setting-group">
                        <label for="maxNumber">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ:</label>
                        <input type="number" id="maxNumber" min="1" max="500" value="10">
                    </div>
                    <div class="setting-group">
                        <label for="examplesCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤:</label>
                        <input type="number" id="examplesCount" min="1" max="300" value="5">
                    </div>
                    <div class="setting-group operation-group">
                        <label>–¢–∏–ø –¥–µ–π—Å—Ç–≤–∏–π:</label>
                        <div class="operation-selector">
                            <label class="radio-option">
                                <input type="radio" name="operationType" value="addition" checked>
                                <span class="radio-custom"></span>
                                <span class="radio-text">–°–ª–æ–∂–µ–Ω–∏–µ</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="operationType" value="subtraction">
                                <span class="radio-custom"></span>
                                <span class="radio-text">–í—ã—á–∏—Ç–∞–Ω–∏–µ</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="operationType" value="both">
                                <span class="radio-custom"></span>
                                <span class="radio-text">–°–ª–æ–∂–µ–Ω–∏–µ –∏ –≤—ã—á–∏—Ç–∞–Ω–∏–µ</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="screen-buttons">
                    <button id="startGame" class="btn btn-primary">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
                    <button id="clearData" class="btn btn-danger">–û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
                </div>
            </div>
        </div>

        <!-- –ò–ì–†–û–í–û–ô –≠–ö–†–ê–ù -->
        <div id="game-screen" class="screen">
            <div class="screen-content">
                <div class="progress">
                    <span id="currentExample">1</span> / <span id="totalExamples">5</span>
                </div>
                <div class="game-stats">
                    <div class="score">
                        –ë–∞–ª–ª—ã: <span id="currentScore">0</span>
                    </div>
                    <div class="timer">
                        –í—Ä–µ–º—è: <span id="gameTimer">00:00</span>
                    </div>
                </div>
                <div class="example">
                    <span id="exampleText">2 + 3 = </span>
                    <input type="number" id="answerInput">
                </div>
                <div class="main-button">
                    <button id="nextExample" class="btn btn-primary">–°–ª–µ–¥—É—é—â–∏–π –ø—Ä–∏–º–µ—Ä</button>
                </div>
                <div class="secondary-buttons">
                    <button id="restartRound" class="btn btn-secondary btn-small">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                </div>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù –°–û–°–¢–ê–í –ß–ò–°–õ–ê -->
        <div id="composition-screen" class="screen">
            <div class="screen-content">
                <h2>–°–æ—Å—Ç–∞–≤ —á–∏—Å–ª–∞</h2>
                <div class="composition-info">
                    <p>–≠—Ç–∞ –∏–≥—Ä–∞ –ø–æ–º–æ–∂–µ—Ç –∏–∑—É—á–∏—Ç—å —Å–æ—Å—Ç–∞–≤ —á–∏—Å–µ–ª</p>
                    <p>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω –∏ –Ω–∞–π–¥–∏—Ç–µ –≤—Å–µ —Å–ø–æ—Å–æ–±—ã —Ä–∞–∑–ª–æ–∂–µ–Ω–∏—è —á–∏—Å–µ–ª</p>
                </div>
                <div class="composition-controls">
                    <div class="setting-group">
                        <label>–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω —á–∏—Å–µ–ª:</label>
                        <div class="range-selector">
                            <div class="range-inputs">
                                <div class="range-input">
                                    <label for="compositionMinNumber">–û—Ç:</label>
                                    <select id="compositionMinNumber">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                        <option value="13">13</option>
                                        <option value="14">14</option>
                                        <option value="15">15</option>
                                        <option value="16">16</option>
                                        <option value="17">17</option>
                                        <option value="18">18</option>
                                        <option value="19">19</option>
                                        <option value="20">20</option>
                                    </select>
                                </div>
                                <div class="range-input">
                                    <label for="compositionMaxNumber">–î–æ:</label>
                                    <select id="compositionMaxNumber">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                        <option value="13">13</option>
                                        <option value="14">14</option>
                                        <option value="15">15</option>
                                        <option value="16">16</option>
                                        <option value="17">17</option>
                                        <option value="18">18</option>
                                        <option value="19">19</option>
                                        <option value="20">20</option>
                                    </select>
                                </div>
                                <div class="range-input">
                                    <label for="compositionRepetitions">–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–π:</label>
                                    <select id="compositionRepetitions">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                    </select>
                                </div>
                            </div>
                            <div id="rangeError" class="error-message" style="display: none;">
                                –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–Ω—å—à–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ
                            </div>
                        </div>
                    </div>
                    <div class="main-button">
                        <button id="startComposition" class="btn btn-primary">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ò–ì–†–û–í–û–ô –≠–ö–†–ê–ù –°–û–°–¢–ê–í –ß–ò–°–õ–ê -->
        <div id="composition-game-screen" class="screen">
            <div class="screen-content">
                <h2>–°–æ—Å—Ç–∞–≤ —á–∏—Å–ª–∞</h2>
                
                <!-- –ë–ª–æ–∫ –≤—ã–±–æ—Ä–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ -->
                <div class="composition-range-info">
                    <span>–î–∏–∞–ø–∞–∑–æ–Ω: <span id="currentRange">1 - 20</span></span>
                </div>
                
                <!-- –ë–ª–æ–∫ —Å —Ç–µ–∫—É—â–∏–º —á–∏—Å–ª–æ–º -->
                <div class="current-number">
                    <span>–¢–µ–∫—É—â–µ–µ —á–∏—Å–ª–æ: <span id="currentNumber">5</span></span>
                    <span class="repetition-info">–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ: <span id="currentRepetition">1</span></span>
                </div>
                
                <!-- –ë–ª–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
                <div class="composition-stats">
                    <div class="selected-count">
                        –í—ã–±—Ä–∞–Ω–æ: <span id="selectedCount">0</span>
                    </div>
                    <div class="composition-timer">
                        –í—Ä–µ–º—è: <span id="compositionTimer">00:00</span>
                    </div>
                </div>
                
                <!-- –ë–ª–æ–∫ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –ø—Ä–∏–º–µ—Ä–æ–≤ -->
                <div class="composition-examples" id="compositionExamples">
                    <!-- –ö–Ω–æ–ø–∫–∏ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
                
                <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                <div class="composition-controls">
                    <button id="nextCompositionNumber" class="btn btn-primary">–°–ª–µ–¥—É—é—â–µ–µ —á–∏—Å–ª–æ</button>
                    <button id="restartComposition" class="btn btn-secondary">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                </div>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù –†–ï–ó–£–õ–¨–¢–ê–¢–û–í -->
        <div id="results-screen" class="screen">
            <div class="screen-content">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—É–Ω–¥–∞</h2>
                <div class="final-score">
                    –ò—Ç–æ–≥–æ–≤—ã–π —Å—á–µ—Ç: <span id="finalScore">0</span> / <span id="totalExamplesResult">5</span>
                    (<span id="percentage">0%</span>)
                </div>
                <div class="final-time">
                    –í—Ä–µ–º—è —Ä–∞—É–Ω–¥–∞: <span id="finalTime">00:00</span>
                </div>
                <div id="wrongExamples" class="wrong-examples">
                    <h3 id="wrongExamplesTitle">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏–º–µ—Ä–æ–≤:</h3>
                    <ul id="wrongExamplesList"></ul>
                </div>
                <div id="results-buttons" class="screen-buttons">
                    <button id="playAgain" class="btn btn-primary">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                    <button id="newGameFromResults" class="btn btn-secondary">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                    <button id="showStats" class="btn btn-secondary">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
                </div>
            </div>
        </div>

        <!-- –≠–ö–†–ê–ù –°–¢–ê–¢–ò–°–¢–ò–ö–ò -->
        <div id="stats-screen" class="screen">
            <div class="screen-content">
                <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-label">–í—Å–µ–≥–æ –∏–≥—Ä</div>
                        <div class="stat-value" id="totalGames">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–õ—É—á—à–∏–π —Å—á–µ—Ç</div>
                        <div class="stat-value" id="bestScore">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π —Å—á–µ—Ç</div>
                        <div class="stat-value" id="averageScore">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–ò–¥–µ–∞–ª—å–Ω—ã—Ö –∏–≥—Ä</div>
                        <div class="stat-value" id="perfectGames">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è</div>
                        <div class="stat-value" id="averageTime">00:00</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–ü–æ—Å–ª–µ–¥–Ω—è—è –∏–≥—Ä–∞</div>
                        <div class="stat-value" id="lastPlayed">–ù–∏–∫–æ–≥–¥–∞</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–ò–≥—Ä—ã "–°–æ—Å—Ç–∞–≤ —á–∏—Å–ª–∞"</div>
                        <div class="stat-value" id="compositionGames">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">–û–±—ã—á–Ω—ã–µ –∏–≥—Ä—ã</div>
                        <div class="stat-value" id="regularGames">0</div>
                    </div>
                </div>
                <div id="progressContainer" class="progress-container"></div>
                <div class="daily-stats">
                    <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–Ω—è–º</h3>
                    <div id="dailyStatsList"></div>
                </div>
                <div class="recent-games">
                    <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–≥—Ä—ã</h3>
                    <ul id="recentGamesList"></ul>
                </div>
                <div class="screen-buttons">
                    <button id="exportData" class="btn btn-secondary">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
                    <button id="importData" class="btn btn-secondary">–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
                    <button id="clearStats" class="btn btn-danger">–û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <p id="footer-text">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            <p class="author-info">¬© 2025 Pavel Ostatochnikov</p>
        </div>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞ -->
    <div id="addPlayerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞</h3>
                <button id="closeModalBtn" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="newPlayerName">–ò–º—è –∏–≥—Ä–æ–∫–∞:</label>
                    <input type="text" id="newPlayerName" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∏–≥—Ä–æ–∫–∞" maxlength="20" autocomplete="off">
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancelAddPlayer" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                <button id="confirmAddPlayer" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ -->
    <script src="version.js"></script>
    
    <!-- –°–µ—Ä–≤–∏—Å—ã -->
    <script src="js/services/GameService.js"></script>
    <script src="js/services/StorageService.js"></script>
    <script src="js/services/TimerService.js"></script>
    
    <!-- –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —ç–∫—Ä–∞–Ω–∞ -->
    <script src="js/screens/BaseScreen.js"></script>
    
    <!-- –≠–∫—Ä–∞–Ω—ã -->
    <script src="js/screens/SettingsScreen.js"></script>
    <script src="js/screens/GameScreen.js"></script>
    <script src="js/screens/CompositionScreen.js"></script>
    <script src="js/screens/CompositionGameScreen.js"></script>
    <script src="js/screens/ResultsScreen.js"></script>
    <script src="js/screens/StatsScreen.js"></script>
    
    <!-- –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <script src="js/app.js"></script>
</body>
</html>
